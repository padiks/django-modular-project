{% extends 'base.html' %}

{% block title %}{{ title }}{% endblock %}

{% block content %}
<div class="card shadow-lg p-4 mb-3">
	<h4 class="mb-4 text-center">{{ title }}</h4>

    {% block nav %}
        {% include 'includes/_compute_nav.html' %}
    {% endblock %}

    <form method="POST" class="row">
        {% csrf_token %}
        
        <!-- Input Fields -->
        <div class="col-md-2 mb-3">
            <label for="input1" class="form-label">Input 1</label>
            <input type="text" class="form-control" id="input1" name="input1" value="{{ input1 }}" autofocus>
        </div>

        <div class="col-md-2 mb-3">
            <label for="input2" class="form-label">Input 2</label>
            <input type="text" class="form-control" id="input2" name="input2" value="{{ input2 }}">
        </div>

        <div class="col-md-2 mb-3">
            <label for="input3" class="form-label">Input 3</label>
            <input type="text" class="form-control" id="input3" name="input3" value="{{ input3 }}">
        </div>

        <div class="col-md-2 mb-3">
            <label for="input4" class="form-label">Input 4</label>
            <input type="text" class="form-control" id="input4" name="input4" value="{{ input4 }}">
        </div>

        <div class="col-md-2 mb-3">
            <label for="input5" class="form-label">Input 5</label>
            <input type="text" class="form-control" id="input5" name="input5" value="{{ input5 }}">
        </div>

        <!-- Buttons (aligned in the same row) -->
        <div class="col-md-2 mb-3 d-flex align-items-end">
            <button type="submit" class="btn btn-primary w-100 me-2" name="action" value="compute">Compute</button>
            <button type="submit" class="btn btn-secondary w-100" name="action" value="clear">Clear</button>
        </div>
    </form>

    {% if sum_values is not None %}
    <div class="mt-3">
        <h5>Result:</h5>
        <p><strong>Sum:</strong> {{ sum_values }}</p>
    </div>
    {% endif %}

</div>

<script>
    // Add event listeners to each input field
    const inputs = document.querySelectorAll('input[type="text"]');

    inputs.forEach((input, index) => {
        input.addEventListener('keydown', function(event) {
            if (event.key === 'Enter') {
                event.preventDefault(); // Prevent form submission on Enter
                const nextInput = inputs[index + 1];
                if (nextInput) {
                    nextInput.focus(); // Move focus to the next input
                }
            }
        });
    });
</script>
{% endblock %}
